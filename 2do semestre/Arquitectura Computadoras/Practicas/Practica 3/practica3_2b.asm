PA EQU 30H
PB EQU 31H
CA EQU 32H
CB EQU 33H
ORG 1000H
	MSG DB "ORGANIZACION Y ARQUITECTURA DE COMPUTADORAS"
	FIN DB ?
ORG 2000H
	MOV AL, 0FDH
	OUT CA, AL
	
	MOV AL, 0
	OUT CB, AL
	
	MOV BX, OFFSET MSG
POLL: IN AL, PA
	AND AL, 1
	JNZ POLL
	
	MOV AL, [BX]
	OUT PB, AL
	
	IN AL, PA
	OR AL, 2
	OUT PA, AL
	
	IN AL, PA
	AND AL, 0FDH
	OUT PA, AL
	
	INC BX
	CMP BX, OFFSET FIN
	JNZ POLL
	
	INT 0
END
