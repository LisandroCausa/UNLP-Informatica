PA EQU 30H
PB EQU 31H
CA EQU 32H
CB EQU 33H
ORG 1000H
	CHAR DB ?
ORG 2000H
	MOV AL, 0FDH
	OUT CA, AL
	
	MOV AL, 0
	OUT CB, AL

	MOV CX, 5
	MOV BX, OFFSET CHAR
INPUT: INT 6
POLL: IN AL, PA
	AND AL, 1
	JNZ POLL

	MOV AL, CHAR
	OUT PB, AL
	
	IN AL, PA
	OR AL, 2
	OUT PA, AL
	
	IN AL, PA
	AND AL, 0FDH
	OUT PA, AL
	
	DEC CX
	JNZ INPUT
	INT 0
END
